
###
# Fonction principale
##
_olixsh_module()
{
    local CUR PREV PREV2
    COMPREPLY=()
    PREV="${COMP_WORDS[COMP_CWORD-1]}"
    PREV2="${COMP_WORDS[COMP_CWORD-2]}"

    case "${PREV}" in
        webapp)
            _olixsh_module_actions
            return 0
            ;;
        config|origin|backup)
            _olixsh_module_list_webapp
            return 0
            ;;
    esac
}


###
# Liste des actions du module WEBAPP
##
_olixsh_module_actions()
{
    local CUR ACTIONS
    CUR="${COMP_WORDS[COMP_CWORD]}"
    ACTIONS="install config origin backup help"

    COMPREPLY=( $(compgen -W "${ACTIONS}" -- ${CUR}) )
}


###
# Liste des applications web du module WEBAPP
##
_olixsh_module_list_webapp()
{
    local CUR BASES
    CUR="${COMP_WORDS[COMP_CWORD]}"

    COMPREPLY=( $(compgen -W "$(${OLIX_ROOT_COMP}/olixsh webapp --list)" -- ${CUR}) )
}
